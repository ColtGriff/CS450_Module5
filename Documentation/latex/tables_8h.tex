\hypertarget{tables_8h}{}\doxysection{include/core/tables.h File Reference}
\label{tables_8h}\index{include/core/tables.h@{include/core/tables.h}}
{\ttfamily \#include \char`\"{}system.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structidt__entry__struct}{idt\+\_\+entry\+\_\+struct}}
\item 
struct \mbox{\hyperlink{structidt__struct}{idt\+\_\+struct}}
\item 
struct \mbox{\hyperlink{structgdt__descriptor__struct}{gdt\+\_\+descriptor\+\_\+struct}}
\item 
struct \mbox{\hyperlink{structgdt__entry__struct}{gdt\+\_\+entry\+\_\+struct}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structidt__entry__struct}{idt\+\_\+entry\+\_\+struct}} \mbox{\hyperlink{tables_8h_a8c598adbe324e6cc36ed5183576a5f27}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}} ((packed)) idt\+\_\+entry
\item 
void \mbox{\hyperlink{tables_8h_a9eca3fe1465f8d7d383551d804853139}{idt\+\_\+set\+\_\+gate}} (\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} idx, \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}}, \mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} sel, \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}})
\item 
void \mbox{\hyperlink{tables_8h_a0b5aee548c88c40ecb07741be1be2e27}{gdt\+\_\+init\+\_\+entry}} (int idx, \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}}, \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access}}, \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}})
\item 
void \mbox{\hyperlink{tables_8h_a35fe413107af682030ab7a4b6dff19b8}{init\+\_\+idt}} ()
\item 
void \mbox{\hyperlink{tables_8h_a86bb50044169930202cc403376ef40c3}{init\+\_\+gdt}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} \mbox{\hyperlink{tables_8h_a0a776dced2c26f16298425cde39f8364}{base\+\_\+low}}
\item 
\mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} \mbox{\hyperlink{tables_8h_ab3f34507900160b4a9b309b4ed039e07}{sselect}}
\item 
\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a94515e42687e7508877c09da81f86860}{zero}}
\item 
\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}}
\item 
\mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} \mbox{\hyperlink{tables_8h_a706c81b840522a69ab6e6e941630d5e4}{base\+\_\+high}}
\item 
\mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}
\item 
\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}}
\item 
\mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} \mbox{\hyperlink{tables_8h_af9013229edfb91d4820f66b8df890ce3}{limit\+\_\+low}}
\item 
\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a35c709a004babd09046db9f667ba0646}{base\+\_\+mid}}
\item 
\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tables_8h_a8c598adbe324e6cc36ed5183576a5f27}\label{tables_8h_a8c598adbe324e6cc36ed5183576a5f27}} 
\index{tables.h@{tables.h}!\_\_attribute\_\_@{\_\_attribute\_\_}}
\index{\_\_attribute\_\_@{\_\_attribute\_\_}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{\_\_attribute\_\_()}{\_\_attribute\_\_()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structgdt__entry__struct}{gdt\+\_\+entry\+\_\+struct}} \+\_\+\+\_\+attribute\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{(packed)}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{tables_8h_a0b5aee548c88c40ecb07741be1be2e27}\label{tables_8h_a0b5aee548c88c40ecb07741be1be2e27}} 
\index{tables.h@{tables.h}!gdt\_init\_entry@{gdt\_init\_entry}}
\index{gdt\_init\_entry@{gdt\_init\_entry}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{gdt\_init\_entry()}{gdt\_init\_entry()}}
{\footnotesize\ttfamily void gdt\+\_\+init\+\_\+entry (\begin{DoxyParamCaption}\item[{int}]{idx,  }\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{base,  }\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{limit,  }\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{access,  }\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{flags }\end{DoxyParamCaption})}



Definition at line 57 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{59 \{}
\DoxyCodeLine{60   gdt\_entry *new\_entry = \&\mbox{\hyperlink{tables_8c_ac64ff6d00454e0b88d43b55536418288}{gdt\_entries}}[idx];}
\DoxyCodeLine{61   new\_entry-\/>base\_low  = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} \& 0xFFFF);}
\DoxyCodeLine{62   new\_entry-\/>base\_mid  = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} >> 16) \& 0xFF;}
\DoxyCodeLine{63   new\_entry-\/>base\_high = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} >> 24) \& 0xFF;}
\DoxyCodeLine{64   new\_entry-\/>limit\_low = (\mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}} \& 0xFFFF);}
\DoxyCodeLine{65   new\_entry-\/>flags  = (\mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}} >> 16) \& 0xFF;}
\DoxyCodeLine{66   new\_entry-\/>flags |= \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}} \& 0xF0;}
\DoxyCodeLine{67   new\_entry-\/>access = \mbox{\hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access}};}
\DoxyCodeLine{68 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tables_8h_a9eca3fe1465f8d7d383551d804853139}\label{tables_8h_a9eca3fe1465f8d7d383551d804853139}} 
\index{tables.h@{tables.h}!idt\_set\_gate@{idt\_set\_gate}}
\index{idt\_set\_gate@{idt\_set\_gate}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{idt\_set\_gate()}{idt\_set\_gate()}}
{\footnotesize\ttfamily void idt\+\_\+set\+\_\+gate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{idx,  }\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{base,  }\item[{\mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}}}]{sel,  }\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{flags }\end{DoxyParamCaption})}



Definition at line 27 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{29 \{}
\DoxyCodeLine{30   idt\_entry *new\_entry = \&\mbox{\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}}[idx];}
\DoxyCodeLine{31   new\_entry-\/>base\_low  = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} \&  0xFFFF);}
\DoxyCodeLine{32   new\_entry-\/>base\_high = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} >> 16) \& 0xFFFF;}
\DoxyCodeLine{33   new\_entry-\/>sselect   = sel;}
\DoxyCodeLine{34   new\_entry-\/>zero = 0;}
\DoxyCodeLine{35   new\_entry-\/>flags = \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}};}
\DoxyCodeLine{36 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tables_8h_a86bb50044169930202cc403376ef40c3}\label{tables_8h_a86bb50044169930202cc403376ef40c3}} 
\index{tables.h@{tables.h}!init\_gdt@{init\_gdt}}
\index{init\_gdt@{init\_gdt}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{init\_gdt()}{init\_gdt()}}
{\footnotesize\ttfamily void init\+\_\+gdt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 75 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{76 \{}
\DoxyCodeLine{77   \mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}.limit = 5 * \textcolor{keyword}{sizeof}(gdt\_entry) -\/ 1;}
\DoxyCodeLine{78   \mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}.base  = (\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}) \mbox{\hyperlink{tables_8c_ac64ff6d00454e0b88d43b55536418288}{gdt\_entries}};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80   \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}} = 0xFFFFFFFF;}
\DoxyCodeLine{81   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(0, 0, 0, 0, 0);           \textcolor{comment}{//required null segment}}
\DoxyCodeLine{82   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(1, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0x9A, 0xCF); \textcolor{comment}{//code segment}}
\DoxyCodeLine{83   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(2, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0x92, 0xCF); \textcolor{comment}{//data segment}}
\DoxyCodeLine{84   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(3, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0xFA, 0xCF); \textcolor{comment}{//user mode code segment}}
\DoxyCodeLine{85   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(4, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0xF2, 0xCF); \textcolor{comment}{//user mode data segment}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87   \mbox{\hyperlink{tables_8c_ab603373c64fb0a6d51482121d0800be4}{write\_gdt\_ptr}}((\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}) \&\mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}));}
\DoxyCodeLine{88 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tables_8h_a35fe413107af682030ab7a4b6dff19b8}\label{tables_8h_a35fe413107af682030ab7a4b6dff19b8}} 
\index{tables.h@{tables.h}!init\_idt@{init\_idt}}
\index{init\_idt@{init\_idt}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{init\_idt()}{init\_idt()}}
{\footnotesize\ttfamily void init\+\_\+idt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 43 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{44 \{}
\DoxyCodeLine{45   \mbox{\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}}.limit = 256*\textcolor{keyword}{sizeof}(idt\_descriptor) -\/ 1;}
\DoxyCodeLine{46   \mbox{\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}}.base  = (\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}})\mbox{\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}};}
\DoxyCodeLine{47   \mbox{\hyperlink{string_8h_ace6ee45c30e71865e6eb635200379db9}{memset}}(\mbox{\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}}, 0, 256*\textcolor{keyword}{sizeof}(idt\_descriptor));}
\DoxyCodeLine{48   }
\DoxyCodeLine{49   \mbox{\hyperlink{tables_8c_a77fec66a455d3275b67be5c3d7868555}{write\_idt\_ptr}}((\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}})\&\mbox{\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}});}
\DoxyCodeLine{50 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}\label{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}} 
\index{tables.h@{tables.h}!access@{access}}
\index{access@{access}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{access}{access}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} access}



Definition at line 3 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}\label{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}} 
\index{tables.h@{tables.h}!base@{base}}
\index{base@{base}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{base}{base}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} base}



Definition at line 1 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_a706c81b840522a69ab6e6e941630d5e4}\label{tables_8h_a706c81b840522a69ab6e6e941630d5e4}} 
\index{tables.h@{tables.h}!base\_high@{base\_high}}
\index{base\_high@{base\_high}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{base\_high}{base\_high}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} base\+\_\+high}



Definition at line 4 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_a0a776dced2c26f16298425cde39f8364}\label{tables_8h_a0a776dced2c26f16298425cde39f8364}} 
\index{tables.h@{tables.h}!base\_low@{base\_low}}
\index{base\_low@{base\_low}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{base\_low}{base\_low}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} base\+\_\+low}



Definition at line 0 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_a35c709a004babd09046db9f667ba0646}\label{tables_8h_a35c709a004babd09046db9f667ba0646}} 
\index{tables.h@{tables.h}!base\_mid@{base\_mid}}
\index{base\_mid@{base\_mid}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{base\_mid}{base\_mid}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} base\+\_\+mid}



Definition at line 2 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}\label{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}} 
\index{tables.h@{tables.h}!flags@{flags}}
\index{flags@{flags}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{flags}{flags}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} flags}



Definition at line 3 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}\label{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}} 
\index{tables.h@{tables.h}!limit@{limit}}
\index{limit@{limit}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{limit}{limit}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} limit}



Definition at line 0 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_af9013229edfb91d4820f66b8df890ce3}\label{tables_8h_af9013229edfb91d4820f66b8df890ce3}} 
\index{tables.h@{tables.h}!limit\_low@{limit\_low}}
\index{limit\_low@{limit\_low}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{limit\_low}{limit\_low}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} limit\+\_\+low}



Definition at line 0 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_ab3f34507900160b4a9b309b4ed039e07}\label{tables_8h_ab3f34507900160b4a9b309b4ed039e07}} 
\index{tables.h@{tables.h}!sselect@{sselect}}
\index{sselect@{sselect}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{sselect}{sselect}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} sselect}



Definition at line 1 of file tables.\+h.

\mbox{\Hypertarget{tables_8h_a94515e42687e7508877c09da81f86860}\label{tables_8h_a94515e42687e7508877c09da81f86860}} 
\index{tables.h@{tables.h}!zero@{zero}}
\index{zero@{zero}!tables.h@{tables.h}}
\doxysubsubsection{\texorpdfstring{zero}{zero}}
{\footnotesize\ttfamily \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} zero}



Definition at line 2 of file tables.\+h.

