\hypertarget{tables_8c}{}\doxysection{kernel/core/tables.c File Reference}
\label{tables_8c}\index{kernel/core/tables.c@{kernel/core/tables.c}}
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$core/tables.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{tables_8c_ab603373c64fb0a6d51482121d0800be4}{write\+\_\+gdt\+\_\+ptr}} (\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}, \mbox{\hyperlink{system_8h_a7c94ea6f8948649f8d181ae55911eeaf}{size\+\_\+t}})
\item 
void \mbox{\hyperlink{tables_8c_a77fec66a455d3275b67be5c3d7868555}{write\+\_\+idt\+\_\+ptr}} (\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}})
\item 
void \mbox{\hyperlink{tables_8c_a9eca3fe1465f8d7d383551d804853139}{idt\+\_\+set\+\_\+gate}} (\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} idx, \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}}, \mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}} sel, \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}})
\item 
void \mbox{\hyperlink{tables_8c_a35fe413107af682030ab7a4b6dff19b8}{init\+\_\+idt}} ()
\item 
void \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\+\_\+init\+\_\+entry}} (int idx, \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}}, \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access}}, \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}} \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}})
\item 
void \mbox{\hyperlink{tables_8c_a86bb50044169930202cc403376ef40c3}{init\+\_\+gdt}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
gdt\+\_\+descriptor \mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\+\_\+ptr}}
\item 
gdt\+\_\+entry \mbox{\hyperlink{tables_8c_ac64ff6d00454e0b88d43b55536418288}{gdt\+\_\+entries}} \mbox{[}5\mbox{]}
\item 
idt\+\_\+descriptor \mbox{\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\+\_\+ptr}}
\item 
idt\+\_\+entry \mbox{\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\+\_\+entries}} \mbox{[}256\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}\label{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}} 
\index{tables.c@{tables.c}!gdt\_init\_entry@{gdt\_init\_entry}}
\index{gdt\_init\_entry@{gdt\_init\_entry}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{gdt\_init\_entry()}{gdt\_init\_entry()}}
{\footnotesize\ttfamily void gdt\+\_\+init\+\_\+entry (\begin{DoxyParamCaption}\item[{int}]{idx,  }\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{base,  }\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{limit,  }\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{access,  }\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{flags }\end{DoxyParamCaption})}



Definition at line 57 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{59 \{}
\DoxyCodeLine{60   gdt\_entry *new\_entry = \&\mbox{\hyperlink{tables_8c_ac64ff6d00454e0b88d43b55536418288}{gdt\_entries}}[idx];}
\DoxyCodeLine{61   new\_entry-\/>base\_low  = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} \& 0xFFFF);}
\DoxyCodeLine{62   new\_entry-\/>base\_mid  = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} >> 16) \& 0xFF;}
\DoxyCodeLine{63   new\_entry-\/>base\_high = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} >> 24) \& 0xFF;}
\DoxyCodeLine{64   new\_entry-\/>limit\_low = (\mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}} \& 0xFFFF);}
\DoxyCodeLine{65   new\_entry-\/>flags  = (\mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}} >> 16) \& 0xFF;}
\DoxyCodeLine{66   new\_entry-\/>flags |= \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}} \& 0xF0;}
\DoxyCodeLine{67   new\_entry-\/>access = \mbox{\hyperlink{tables_8h_a360a726ac0b61d9e4e1be3ad34f80244}{access}};}
\DoxyCodeLine{68 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tables_8c_a9eca3fe1465f8d7d383551d804853139}\label{tables_8c_a9eca3fe1465f8d7d383551d804853139}} 
\index{tables.c@{tables.c}!idt\_set\_gate@{idt\_set\_gate}}
\index{idt\_set\_gate@{idt\_set\_gate}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{idt\_set\_gate()}{idt\_set\_gate()}}
{\footnotesize\ttfamily void idt\+\_\+set\+\_\+gate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{idx,  }\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{base,  }\item[{\mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}}}]{sel,  }\item[{\mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}}}]{flags }\end{DoxyParamCaption})}



Definition at line 27 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{29 \{}
\DoxyCodeLine{30   idt\_entry *new\_entry = \&\mbox{\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}}[idx];}
\DoxyCodeLine{31   new\_entry-\/>base\_low  = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} \&  0xFFFF);}
\DoxyCodeLine{32   new\_entry-\/>base\_high = (\mbox{\hyperlink{tables_8h_ab5763c2b18c825c8b8fba44b2e60ddc1}{base}} >> 16) \& 0xFFFF;}
\DoxyCodeLine{33   new\_entry-\/>sselect   = sel;}
\DoxyCodeLine{34   new\_entry-\/>zero = 0;}
\DoxyCodeLine{35   new\_entry-\/>flags = \mbox{\hyperlink{tables_8h_a138dda98fcd4738346af61bcca8cf4b4}{flags}};}
\DoxyCodeLine{36 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tables_8c_a86bb50044169930202cc403376ef40c3}\label{tables_8c_a86bb50044169930202cc403376ef40c3}} 
\index{tables.c@{tables.c}!init\_gdt@{init\_gdt}}
\index{init\_gdt@{init\_gdt}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{init\_gdt()}{init\_gdt()}}
{\footnotesize\ttfamily void init\+\_\+gdt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 75 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{76 \{}
\DoxyCodeLine{77   \mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}.limit = 5 * \textcolor{keyword}{sizeof}(gdt\_entry) -\/ 1;}
\DoxyCodeLine{78   \mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}.base  = (\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}) \mbox{\hyperlink{tables_8c_ac64ff6d00454e0b88d43b55536418288}{gdt\_entries}};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80   \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}} \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}} = 0xFFFFFFFF;}
\DoxyCodeLine{81   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(0, 0, 0, 0, 0);           \textcolor{comment}{//required null segment}}
\DoxyCodeLine{82   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(1, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0x9A, 0xCF); \textcolor{comment}{//code segment}}
\DoxyCodeLine{83   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(2, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0x92, 0xCF); \textcolor{comment}{//data segment}}
\DoxyCodeLine{84   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(3, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0xFA, 0xCF); \textcolor{comment}{//user mode code segment}}
\DoxyCodeLine{85   \mbox{\hyperlink{tables_8c_a0b5aee548c88c40ecb07741be1be2e27}{gdt\_init\_entry}}(4, 0, \mbox{\hyperlink{tables_8h_a68fd3b4f6c14a331ca9b226cbf122e13}{limit}}, 0xF2, 0xCF); \textcolor{comment}{//user mode data segment}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87   \mbox{\hyperlink{tables_8c_ab603373c64fb0a6d51482121d0800be4}{write\_gdt\_ptr}}((\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}) \&\mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{tables_8c_aedb4641b02b4a269294e53be7c9b280e}{gdt\_ptr}}));}
\DoxyCodeLine{88 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tables_8c_a35fe413107af682030ab7a4b6dff19b8}\label{tables_8c_a35fe413107af682030ab7a4b6dff19b8}} 
\index{tables.c@{tables.c}!init\_idt@{init\_idt}}
\index{init\_idt@{init\_idt}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{init\_idt()}{init\_idt()}}
{\footnotesize\ttfamily void init\+\_\+idt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 43 of file tables.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{44 \{}
\DoxyCodeLine{45   \mbox{\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}}.limit = 256*\textcolor{keyword}{sizeof}(idt\_descriptor) -\/ 1;}
\DoxyCodeLine{46   \mbox{\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}}.base  = (\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}})\mbox{\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}};}
\DoxyCodeLine{47   \mbox{\hyperlink{string_8h_ace6ee45c30e71865e6eb635200379db9}{memset}}(\mbox{\hyperlink{tables_8c_a3c386c59636822ce451be20cc1433a55}{idt\_entries}}, 0, 256*\textcolor{keyword}{sizeof}(idt\_descriptor));}
\DoxyCodeLine{48   }
\DoxyCodeLine{49   \mbox{\hyperlink{tables_8c_a77fec66a455d3275b67be5c3d7868555}{write\_idt\_ptr}}((\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}})\&\mbox{\hyperlink{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}{idt\_ptr}});}
\DoxyCodeLine{50 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tables_8c_ab603373c64fb0a6d51482121d0800be4}\label{tables_8c_ab603373c64fb0a6d51482121d0800be4}} 
\index{tables.c@{tables.c}!write\_gdt\_ptr@{write\_gdt\_ptr}}
\index{write\_gdt\_ptr@{write\_gdt\_ptr}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{write\_gdt\_ptr()}{write\_gdt\_ptr()}}
{\footnotesize\ttfamily void write\+\_\+gdt\+\_\+ptr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{,  }\item[{\mbox{\hyperlink{system_8h_a7c94ea6f8948649f8d181ae55911eeaf}{size\+\_\+t}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{tables_8c_a77fec66a455d3275b67be5c3d7868555}\label{tables_8c_a77fec66a455d3275b67be5c3d7868555}} 
\index{tables.c@{tables.c}!write\_idt\_ptr@{write\_idt\_ptr}}
\index{write\_idt\_ptr@{write\_idt\_ptr}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{write\_idt\_ptr()}{write\_idt\_ptr()}}
{\footnotesize\ttfamily void write\+\_\+idt\+\_\+ptr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}}}]{ }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{tables_8c_ac64ff6d00454e0b88d43b55536418288}\label{tables_8c_ac64ff6d00454e0b88d43b55536418288}} 
\index{tables.c@{tables.c}!gdt\_entries@{gdt\_entries}}
\index{gdt\_entries@{gdt\_entries}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{gdt\_entries}{gdt\_entries}}
{\footnotesize\ttfamily gdt\+\_\+entry gdt\+\_\+entries\mbox{[}5\mbox{]}}



Definition at line 13 of file tables.\+c.

\mbox{\Hypertarget{tables_8c_aedb4641b02b4a269294e53be7c9b280e}\label{tables_8c_aedb4641b02b4a269294e53be7c9b280e}} 
\index{tables.c@{tables.c}!gdt\_ptr@{gdt\_ptr}}
\index{gdt\_ptr@{gdt\_ptr}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{gdt\_ptr}{gdt\_ptr}}
{\footnotesize\ttfamily gdt\+\_\+descriptor gdt\+\_\+ptr}



Definition at line 12 of file tables.\+c.

\mbox{\Hypertarget{tables_8c_a3c386c59636822ce451be20cc1433a55}\label{tables_8c_a3c386c59636822ce451be20cc1433a55}} 
\index{tables.c@{tables.c}!idt\_entries@{idt\_entries}}
\index{idt\_entries@{idt\_entries}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{idt\_entries}{idt\_entries}}
{\footnotesize\ttfamily idt\+\_\+entry idt\+\_\+entries\mbox{[}256\mbox{]}}



Definition at line 17 of file tables.\+c.

\mbox{\Hypertarget{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}\label{tables_8c_a76f617adbc46449bbc39e7b46504b7c4}} 
\index{tables.c@{tables.c}!idt\_ptr@{idt\_ptr}}
\index{idt\_ptr@{idt\_ptr}!tables.c@{tables.c}}
\doxysubsubsection{\texorpdfstring{idt\_ptr}{idt\_ptr}}
{\footnotesize\ttfamily idt\+\_\+descriptor idt\+\_\+ptr}



Definition at line 16 of file tables.\+c.

