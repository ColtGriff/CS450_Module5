\hypertarget{commhand_8c}{}\doxysection{modules/\+R1/commhand.c File Reference}
\label{commhand_8c}\index{modules/R1/commhand.c@{modules/R1/commhand.c}}
{\ttfamily \#include $<$core/serial.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../mpx\+\_\+supt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}R1commands.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{commhand_8c_a14d85617242501c323a203ee196d3efa}{commhand}} ()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{commhand_8c_a14d85617242501c323a203ee196d3efa}\label{commhand_8c_a14d85617242501c323a203ee196d3efa}} 
\index{commhand.c@{commhand.c}!commhand@{commhand}}
\index{commhand@{commhand}!commhand.c@{commhand.c}}
\doxysubsubsection{\texorpdfstring{commhand()}{commhand()}}
{\footnotesize\ttfamily int commhand (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 8 of file commhand.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{9 \{}
\DoxyCodeLine{10 }
\DoxyCodeLine{11     \textcolor{keywordtype}{char} cmdBuffer[100];}
\DoxyCodeLine{12     \textcolor{keywordtype}{int} bufferSize;}
\DoxyCodeLine{13 }
\DoxyCodeLine{14     \textcolor{keywordtype}{int} quit = 0;}
\DoxyCodeLine{15 }
\DoxyCodeLine{16     \textcolor{keywordflow}{while} (!quit)}
\DoxyCodeLine{17     \{}
\DoxyCodeLine{18         \textcolor{comment}{//get a command: cal polling fx}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20         \mbox{\hyperlink{string_8h_ace6ee45c30e71865e6eb635200379db9}{memset}}(cmdBuffer, \textcolor{charliteral}{'\(\backslash\)0'}, 100);}
\DoxyCodeLine{21 }
\DoxyCodeLine{22         bufferSize = 99; \textcolor{comment}{// reset size before each call to read}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24         \mbox{\hyperlink{mpx__supt_8c_aaa3eb70f93cb8acf38ec0d028b9874f0}{sys\_req}}(\mbox{\hyperlink{mpx__supt_8h_ada74e7db007a68e763f20c17f2985356}{READ}}, \mbox{\hyperlink{mpx__supt_8h_a84cb8bbda8042a324f49102bc200cc54}{DEFAULT\_DEVICE}}, cmdBuffer, \&bufferSize);}
\DoxyCodeLine{25 }
\DoxyCodeLine{26         \mbox{\hyperlink{serial_8h_a995827efcd4dcfb780c9fbb9645410a4}{serial\_print}}(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{27 }
\DoxyCodeLine{28         \textcolor{keywordflow}{if} (\mbox{\hyperlink{string_8h_a11bd144d7d44914099a3aeddf1c8567d}{strcmp}}(cmdBuffer, \textcolor{stringliteral}{"{}help"{}}) == 0)}
\DoxyCodeLine{29         \{}
\DoxyCodeLine{30             \mbox{\hyperlink{R1commands_8c_a13166be76043b3dfccc0f830c846dc26}{help}}();}
\DoxyCodeLine{31         \}}
\DoxyCodeLine{32         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{string_8h_a11bd144d7d44914099a3aeddf1c8567d}{strcmp}}(cmdBuffer, \textcolor{stringliteral}{"{}version"{}}) == 0)}
\DoxyCodeLine{33         \{}
\DoxyCodeLine{34             \mbox{\hyperlink{R1commands_8c_ae64f17a84dc9c7144d1036498ff26fd9}{version}}();}
\DoxyCodeLine{35         \}}
\DoxyCodeLine{36         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{string_8h_a11bd144d7d44914099a3aeddf1c8567d}{strcmp}}(cmdBuffer, \textcolor{stringliteral}{"{}getDate"{}}) == 0)}
\DoxyCodeLine{37         \{}
\DoxyCodeLine{38             \mbox{\hyperlink{R1commands_8c_affb6f9c7b2c1d585677a5bba1da35c06}{getDate}}();}
\DoxyCodeLine{39         \}}
\DoxyCodeLine{40         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{string_8h_a11bd144d7d44914099a3aeddf1c8567d}{strcmp}}(cmdBuffer, \textcolor{stringliteral}{"{}setDate"{}}) == 0)}
\DoxyCodeLine{41         \{}
\DoxyCodeLine{42             \mbox{\hyperlink{R1commands_8c_a21c02ca927851e19e2d2bd23daad0e31}{setDate}}();}
\DoxyCodeLine{43         \}}
\DoxyCodeLine{44         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{string_8h_a11bd144d7d44914099a3aeddf1c8567d}{strcmp}}(cmdBuffer, \textcolor{stringliteral}{"{}getTime"{}}) == 0)}
\DoxyCodeLine{45         \{}
\DoxyCodeLine{46             \mbox{\hyperlink{R1commands_8c_a1c7c164fd3c7dea7004ece3c6251fc94}{getTime}}();}
\DoxyCodeLine{47         \}}
\DoxyCodeLine{48         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{string_8h_a11bd144d7d44914099a3aeddf1c8567d}{strcmp}}(cmdBuffer, \textcolor{stringliteral}{"{}setTime"{}}) == 0)}
\DoxyCodeLine{49         \{}
\DoxyCodeLine{50             \mbox{\hyperlink{R1commands_8c_a854929a3dfe97fb3bcb65a358da1192f}{setTime}}();}
\DoxyCodeLine{51         \}}
\DoxyCodeLine{52         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{string_8h_a11bd144d7d44914099a3aeddf1c8567d}{strcmp}}(cmdBuffer, \textcolor{stringliteral}{"{}quit"{}}) == 0)}
\DoxyCodeLine{53         \{}
\DoxyCodeLine{54 }
\DoxyCodeLine{55             \textcolor{comment}{// Need a check here}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57             quit = 1;}
\DoxyCodeLine{58         \}}
\DoxyCodeLine{59         \textcolor{keywordflow}{else}}
\DoxyCodeLine{60         \{}
\DoxyCodeLine{61             \textcolor{keywordtype}{char} message[] = \textcolor{stringliteral}{"{}Unrecognized Command\(\backslash\)n"{}};}
\DoxyCodeLine{62 }
\DoxyCodeLine{63             \textcolor{keywordtype}{int} tempBuffer = \mbox{\hyperlink{string_8h_a2dee044e4e667b5b789b493abd21cfa4}{strlen}}(message);}
\DoxyCodeLine{64 }
\DoxyCodeLine{65             \mbox{\hyperlink{mpx__supt_8c_aaa3eb70f93cb8acf38ec0d028b9874f0}{sys\_req}}(\mbox{\hyperlink{mpx__supt_8h_aa10f470e996d0f51210d24f442d25e1e}{WRITE}}, \mbox{\hyperlink{mpx__supt_8h_a84cb8bbda8042a324f49102bc200cc54}{DEFAULT\_DEVICE}}, (\textcolor{keywordtype}{char} *)message, \&tempBuffer);}
\DoxyCodeLine{66         \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68         \textcolor{comment}{// process the command: take array buffer chars and make a string. Decide what the cmd wants to do}}
\DoxyCodeLine{69         \textcolor{comment}{// see if quit was entered: if string == quit = 1}}
\DoxyCodeLine{70     \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{73 \}}

\end{DoxyCode}
